:toc:
:toclevels: 4
= Development

This document is intended for developers working on this project. It includes useful tips, scripts, and conventions to support local development and testing.

== Next.js Basics

include::next.adoc[]

== Useful Commands

.List all relevant project files (excluding build and cache directories)
[source,sh]
find . -type f ! -path "./node_modules/*" ! -path "./.next/*" ! -path "./.env.local" ! -path "./.vscode/*" ! -path "./.git/*" ! -path "./public/cache/*" -print

.List and display specific files
[source,sh]
----
find . -type f \( -name "fetchAndParseM3U.ts" -o -name "StreamingService.ts" -o -name "M3UEntry.ts" -o -name "parseM3U.ts" -o -name "route.ts" -o -name "page.tsx" -o -name "PlayerClient.tsx" -o -name "PlayerButton.tsx" -o -name "StreamCard.tsx" \) -exec sh -c 'echo {}; cat {}' \; 
----

[[npm-scripts]]
include::scripts.adoc[]

== Naming Conventions

Consistent naming improves readability and maintainability.

=== General

- Use `camelCase` for variables, constants, and most functions
- Use `PascalCase` for React components, types, and folders
- Use `kebab-case` or lowercase for filenames that aren’t components (e.g. `parseM3U.ts`)
- Match function names to filenames when there’s a 1:1 relationship (e.g. `parseM3U()` in `parseM3U.ts`)

=== Components

- Place each component in its own folder under `src/components/`
- Component folder and file should match (e.g. `StreamCard/StreamCard.tsx`)
- Optionally include an `index.ts` to simplify imports

.Example
[source,ts]
----
import StreamCard from '@/components/StreamCard';
----

=== Utilities

- Single-purpose utility functions go in `src/utils/` (e.g. `parseM3U.ts`)
- Multi-function modules may use a folder with an `index.ts`

=== Types

- Place all TypeScript types in `src/types/`
- Use `PascalCase` for filenames and type declarations
- Prefix domain-specific types (e.g. `FetchM3URequest.ts`)

=== Configuration

- Place configuration entry points in `src/config/`
- Example/default files use naming like `services.example.ts` / `services.ts`

=== Tests

- Unit tests go in `test/` or in `__tests__` folders near their targets
- Match the source file name with a `.test.ts` suffix
- Test assets (e.g. `.m3u` files) go in `test/assets/`

== Testing Philosophy

The goal of testing here isn't perfect coverage, but meaningful validation.

Coverage tools are helpful for identifying blind spots, but the focus is on testing the expected behavior of the code — both typical and edge cases. It's more important that tests are clear and useful than exhaustive.

The tests are intended to catch unintended side effects and to help identify when a change in one part of the codebase breaks behavior elsewhere. Coverage is a tool, not a target.
